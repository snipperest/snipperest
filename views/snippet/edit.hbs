<h1 class="snippet-title">Edit snippet</h1>

<form action="/snippets/{{snippet._id}}/createdby/{{snippet.creator._id}}/edit" method="POST">
  <label for="title">Title</label>
  <input type="text" id="title" name="title" value="{{snippet.title}}">
  <br><br>
  <label for="language">Language</label>
  <select name="language" id="language" onchange="changeMode(this)">
    <option value="HTML">HTML</option>
    <option value="CSS">CSS</option>
    <option value="JS">JavaScript</option>
  </select>
  <br><br>
  <label for="board">Board</label>
  <select name="board" id="board">
    {{#each boards}}
    <option value="{{this.id}}">{{this.name}}</option>
    {{/each}}
  </select>
  <br><br>
  <label for="code">Code snippet</label>
  <br>
  <textarea name="code" id="code" cols="30" rows="10">{{snippet.code}}</textarea>
  <br><br>
  <label for="description">description</label>
  <br>
  <textarea name="description" id="description" cols="30" rows="10">{{snippet.description}}</textarea>
  <br><br>
  <label for="source">Source</label>
  <input type="text" id="source" name="source" value="{{snippet.source}}">
  <br><br>
  <button>Save changes</button>
</form>

<script>
  const languageSelected = "{{ snippet.language }}"


  let languageOptions = document.getElementById("language").querySelectorAll("option")

  languageOptions.forEach(language => {
    if (language.value === languageSelected) language.setAttribute("selected", "selected")
  })

  const boardSelected = "{{ snippet.board }}"

  let boardOptions = document.getElementById("board").querySelectorAll("option")
  boardOptions.forEach(board => {
    if (board.value === boardSelected) board.setAttribute("selected", "selected")
  })
</script>


<script src="/javascripts/edit-snippet.js"></script>